import{r as s,j as g}from"./iframe-VuuwYRqM.js";import{b as w}from"./Bem-DWdSENOI.js";import{i as h}from"./Optional-CilDcsXt.js";const v=e=>{const t=e.rows,a=e.value;e.value="",e.rows=1;const n=e.scrollHeight;return e.rows=t,e.value=a,n},R=({maxHeight:e,singleRowHeight:t})=>{if(e.unit==="rows")return Math.max(e.value,1);const a=Math.floor(e.value/t);return Math.max(a,1)},M=({minHeight:e,singleRowHeight:t})=>{if(e.unit==="rows")return Math.max(e.value,1);const a=Math.ceil(e.value/t);return Math.max(a,1)},x=({minRows:e,maxRows:t,singleRowHeight:a,textarea:n})=>{n.rows=e;const{scrollHeight:l}=n,c=Math.min(Math.max(e,Math.ceil(l/a)),t);n.rows=c},y={unit:"rows",value:1},V={unit:"rows",value:4},f=s.forwardRef(({maxHeight:e=V,minHeight:t=y,className:a,value:n,onChange:l,...c},r)=>{const u=s.useRef(null),[o,p]=s.useState(1);s.useLayoutEffect(()=>{u.current&&p(v(u.current))},[]);const m=s.useMemo(()=>M({minHeight:t,singleRowHeight:o}),[t,o]),d=s.useMemo(()=>R({maxHeight:e,singleRowHeight:o}),[e,o]);return s.useLayoutEffect(()=>{u.current&&x({textarea:u.current,minRows:m,maxRows:d,singleRowHeight:o})},[n,m,d,o]),g.jsx("textarea",{...c,className:`${w("tox-textarea")} ${a??""}`,value:n,onChange:i=>{l&&l(i.target.value)},ref:i=>{u.current=i,r&&(typeof r=="function"?r(i):h(r)&&(r.current=i))}})});try{f.displayName="AutoResizingTextarea",f.__docgenInfo={description:"",displayName:"AutoResizingTextarea",props:{maxHeight:{defaultValue:{value:`{
  unit: 'rows',
  value: 4
}`},description:"",name:"maxHeight",required:!1,type:{name:"Height"}},minHeight:{defaultValue:{value:`{
  unit: 'rows',
  value: 1
}`},description:"",name:"minHeight",required:!1,type:{name:"Height"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((value: string) => void)"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}}}}}catch{}export{f as A};
