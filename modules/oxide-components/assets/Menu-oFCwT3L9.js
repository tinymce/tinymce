import{r as t,j as o}from"./iframe-oWtbcp7y.js";import{d as E,O as S}from"./Optional-DbTLtGQT.js";import{m as C,n as R,S as v,o as O,q as k,c as w,e as B,h as D}from"./KeyboardNavigationHooks-D33CXeC0.js";import{e as u,a as T,b as V}from"./Bem-BaJhmSJn.js";import{I as _}from"./Icon-C0S2W6UK.js";import{n as j}from"./Fun--VEwoXIw.js";import{R as F,T as P,C as z}from"./Dropdown-C1XNcH-K.js";const h=t.forwardRef(({enabled:n=!0,onSetup:i,icon:r,shortcut:l,onAction:m,children:I},y)=>{const[s,a]=t.useState({enabled:n,focused:!1}),b=t.useId(),g=t.useRef(s);t.useEffect(()=>{g.current=s},[s]),t.useEffect(()=>{a(d=>({...d,enabled:n}))},[n]);const c=t.useMemo(()=>({isEnabled:()=>g.current.enabled,setEnabled:d=>{a(e=>({...e,enabled:d}))}}),[]);t.useEffect(()=>{if(i){const d=i(c);return()=>d(c)}},[i,c]);const f=E(r)?o.jsx(_,{icon:r}):r;return o.jsxs("button",{id:b,tabIndex:-1,role:"menuitem","aria-haspopup":!1,"aria-disabled":!s.enabled,disabled:!s.enabled,onFocus:()=>a({...s,focused:!0}),onPointerMove:d=>{s.enabled&&d.currentTarget.focus()},onBlur:()=>a({...s,focused:!1}),onClick:()=>m(c),className:u("tox-collection","item",{active:s.focused,"state-disabled":!s.enabled}),ref:y,"aria-keyshortcuts":l,children:[f&&o.jsx("div",{className:u("tox-collection","item-icon"),children:f}),o.jsx("div",{className:u("tox-collection","item-label"),children:I}),l&&o.jsx("div",{className:u("tox-collection","item-accessory"),children:l})]})});try{h.displayName="Item",h.__docgenInfo={description:"",displayName:"Item",props:{icon:{defaultValue:null,description:"",name:"icon",required:!1,type:{name:"string | Element"}},enabled:{defaultValue:{value:"true"},description:"",name:"enabled",required:!1,type:{name:"boolean"}},shortcut:{defaultValue:null,description:"",name:"shortcut",required:!1,type:{name:"string"}},onAction:{defaultValue:null,description:"",name:"onAction",required:!0,type:{name:"(api: CommonMenuItemInstanceApi) => void"}},onSetup:{defaultValue:null,description:"",name:"onSetup",required:!1,type:{name:"((api: CommonMenuItemInstanceApi) => (api: CommonMenuItemInstanceApi) => void)"}}}}}catch{}const G=(n,i)=>{const r=T("tox-collection","group"),l=m=>R(v.fromDom(m),r);return S.from(n).exists(m=>C(l(i),l(m),k))},L=(n,i)=>S.from(n).exists(r=>{const l=v.fromDom(r);return!O(v.fromDom(i),l)}),x=t.forwardRef(({enabled:n=!0,icon:i,onSetup:r,children:l,submenusSide:m="right",submenuContent:I},y)=>{const[s,a]=t.useState({enabled:n,focused:!1,isSubmenuOpen:!1,focusMovedToOtherMenuItem:!1}),b=t.useId(),g=t.useRef(s);t.useEffect(()=>{g.current=s},[s]),t.useEffect(()=>{a(e=>({...e,enabled:n}))},[n]);const c=t.useMemo(()=>({isEnabled:()=>g.current.enabled,setEnabled:e=>{a(p=>({...p,enabled:e}))}}),[]);t.useEffect(()=>{if(r){const e=r(c);return()=>e(c)}return j},[r,c]);const f=E(i)?o.jsx(_,{icon:i}):i,d=t.useCallback(e=>{a(p=>({...p,isSubmenuOpen:e}))},[]);return o.jsxs(F,{side:m,align:"start",triggerEvents:["click","hover"],children:[o.jsx(P,{children:o.jsxs("button",{id:b,ref:y,style:{boxSizing:"border-box",width:"100%"},tabIndex:-1,role:"menuitem","aria-haspopup":"true","aria-disabled":!s.enabled,disabled:!s.enabled,onFocus:()=>a(e=>({...e,focused:!0,focusMovedToOtherMenuItem:!1})),onPointerMove:e=>{s.enabled&&e.currentTarget.focus()},onBlur:e=>{const p=e.relatedTarget;a(q=>({...q,focused:!1,focusMovedToOtherMenuItem:G(p,e.target)}))},className:u("tox-collection","item",{active:s.focused||s.isSubmenuOpen&&!s.focusMovedToOtherMenuItem,"state-disabled":!s.enabled}),children:[f&&o.jsx("div",{className:u("tox-collection","item-icon"),children:f}),o.jsx("div",{className:u("tox-collection","item-label"),children:l}),o.jsx("div",{className:u("tox-collection","item-caret"),children:o.jsx(_,{icon:"chevron-right"})})]})}),o.jsx(z,{onOpenChange:d,children:o.jsx("div",{onBlur:e=>{const p=e.relatedTarget;L(p,e.target)&&a(q=>({...q,focusMovedToOtherMenuItem:!0}))},children:I})})]})});try{x.displayName="SubmenuItem",x.__docgenInfo={description:"",displayName:"SubmenuItem",props:{submenusSide:{defaultValue:{value:"right"},description:"",name:"submenusSide",required:!1,type:{name:'"left" | "right"'}},icon:{defaultValue:null,description:"",name:"icon",required:!1,type:{name:"string | Element"}},enabled:{defaultValue:{value:"true"},description:"",name:"enabled",required:!1,type:{name:"boolean"}},submenuContent:{defaultValue:null,description:"",name:"submenuContent",required:!0,type:{name:"Element"}},onSetup:{defaultValue:null,description:"",name:"onSetup",required:!1,type:{name:"((api: CommonMenuItemInstanceApi) => (api: CommonMenuItemInstanceApi) => void)"}}}}}catch{}const M=t.forwardRef(({enabled:n=!0,onSetup:i,icon:r,active:l=!1,shortcut:m,onAction:I,children:y},s)=>{const[a,b]=t.useState({enabled:n,active:l,focused:!1}),g=t.useId(),c=t.useRef(a);t.useEffect(()=>{c.current=a},[a]),t.useEffect(()=>{b(e=>({...e,enabled:n,active:l}))},[n,l]);const f=t.useMemo(()=>({isEnabled:()=>c.current.enabled,setEnabled:e=>{b(p=>({...p,enabled:e}))},isActive:()=>c.current.active,setActive:e=>{b(p=>({...p,active:e}))}}),[]);t.useEffect(()=>{if(i){const e=i(f);return()=>e(f)}return j},[i,f]);const d=E(r)?o.jsx(_,{icon:r}):r;return o.jsxs("button",{id:g,tabIndex:-1,role:"menuitemcheckbox","aria-haspopup":!1,"aria-disabled":!a.enabled,disabled:!a.enabled,"aria-selected":a.active,onFocus:()=>b({...a,focused:!0}),onPointerMove:e=>{a.enabled&&e.currentTarget.focus()},onBlur:()=>b({...a,focused:!1}),onClick:()=>I(f),className:u("tox-collection","item",{enabled:a.active,active:a.focused,"state-disabled":!a.enabled}),ref:s,"aria-keyshortcuts":m,children:[d&&o.jsx("div",{className:u("tox-collection","item-icon"),children:d}),o.jsx("div",{className:u("tox-collection","item-label"),children:y}),m&&o.jsx("div",{className:u("tox-collection","item-accessory"),children:m}),o.jsx("div",{className:u("tox-collection","item-checkmark"),children:o.jsx(_,{icon:"checkmark"})})]})});try{M.displayName="ToggleItem",M.__docgenInfo={description:"",displayName:"ToggleItem",props:{icon:{defaultValue:null,description:"",name:"icon",required:!1,type:{name:"string | Element"}},enabled:{defaultValue:{value:"true"},description:"",name:"enabled",required:!1,type:{name:"boolean"}},active:{defaultValue:{value:"false"},description:"",name:"active",required:!1,type:{name:"boolean"}},shortcut:{defaultValue:null,description:"",name:"shortcut",required:!1,type:{name:"string"}},onAction:{defaultValue:null,description:"",name:"onAction",required:!0,type:{name:"(api: ToggleMenuItemInstanceApi) => void"}},onSetup:{defaultValue:null,description:"",name:"onSetup",required:!1,type:{name:"((api: ToggleMenuItemInstanceApi) => (api: ToggleMenuItemInstanceApi) => void)"}}}}}catch{}const A=`${T("tox-collection","item")}:not([aria-disabled="true"])`,$=n=>S.from(n).each(i=>B(v.fromDom(i),A).each(D)),N=({children:n})=>{const i=t.useRef(null);return w({containerRef:i,selector:A,allowHorizontal:!1,cycles:!1}),t.useEffect(()=>{$(i.current)},[]),o.jsx("div",{ref:i,role:"menu",className:[V("tox-menu"),V("tox-collection",{list:!0})].join(" "),children:o.jsx("div",{className:u("tox-collection","group"),children:n})})};try{N.displayName="Root",N.__docgenInfo={description:"",displayName:"Root",props:{}}}catch{}try{h.displayName="Item",h.__docgenInfo={description:"",displayName:"Item",props:{icon:{defaultValue:null,description:"",name:"icon",required:!1,type:{name:"string | Element"}},enabled:{defaultValue:{value:"true"},description:"",name:"enabled",required:!1,type:{name:"boolean"}},shortcut:{defaultValue:null,description:"",name:"shortcut",required:!1,type:{name:"string"}},onAction:{defaultValue:null,description:"",name:"onAction",required:!0,type:{name:"(api: CommonMenuItemInstanceApi) => void"}},onSetup:{defaultValue:null,description:"",name:"onSetup",required:!1,type:{name:"((api: CommonMenuItemInstanceApi) => (api: CommonMenuItemInstanceApi) => void)"}}}}}catch{}try{x.displayName="SubmenuItem",x.__docgenInfo={description:"",displayName:"SubmenuItem",props:{submenusSide:{defaultValue:{value:"right"},description:"",name:"submenusSide",required:!1,type:{name:'"left" | "right"'}},icon:{defaultValue:null,description:"",name:"icon",required:!1,type:{name:"string | Element"}},enabled:{defaultValue:{value:"true"},description:"",name:"enabled",required:!1,type:{name:"boolean"}},submenuContent:{defaultValue:null,description:"",name:"submenuContent",required:!0,type:{name:"Element"}},onSetup:{defaultValue:null,description:"",name:"onSetup",required:!1,type:{name:"((api: CommonMenuItemInstanceApi) => (api: CommonMenuItemInstanceApi) => void)"}}}}}catch{}try{M.displayName="ToggleItem",M.__docgenInfo={description:"",displayName:"ToggleItem",props:{icon:{defaultValue:null,description:"",name:"icon",required:!1,type:{name:"string | Element"}},enabled:{defaultValue:{value:"true"},description:"",name:"enabled",required:!1,type:{name:"boolean"}},active:{defaultValue:{value:"false"},description:"",name:"active",required:!1,type:{name:"boolean"}},shortcut:{defaultValue:null,description:"",name:"shortcut",required:!1,type:{name:"string"}},onAction:{defaultValue:null,description:"",name:"onAction",required:!0,type:{name:"(api: ToggleMenuItemInstanceApi) => void"}},onSetup:{defaultValue:null,description:"",name:"onSetup",required:!1,type:{name:"((api: ToggleMenuItemInstanceApi) => (api: ToggleMenuItemInstanceApi) => void)"}}}}}catch{}export{h as I,N as R,x as S,M as T};
