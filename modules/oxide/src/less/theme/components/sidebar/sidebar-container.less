//
// Sidebar
//

.tox-sidebar when (@custom-properties-enabled = true) {
  --tox-private-sidebar-background-color: light-dark(
    hsl( from var(--tox-private-background-color) h s calc(l - 6)),
    hsl( from var(--tox-private-background-color) h s calc(l + 10))
  );
}

@sidebar-background-color: contrast(@background-color, darken(@background-color, 6%), lighten(@background-color, 10%));

.tox {
  .tox-sidebar-wrap {
    display: flex;
    flex-direction: row;
    flex-grow: 1;
    // TC-310: Without the min-height setting, browsers like Firefox default to
    // min-height: auto, and the sidebar-wrap will grow in height as soon
    // as the sidebar contents does. This happens even if the sidebar contents has
    // overflow: auto.
    min-height: 0;
  }
  
  .tox-sidebar {
    --tox-private-sidebar-width: 300px;
    background-color: var(--tox-private-sidebar-background-color, @sidebar-background-color);
    display: flex;
    flex-direction: row;
    justify-content: flex-end;
  }

  .tox-sidebar__slider {
    display: flex;
    overflow: hidden;
  }

  .tox-sidebar__pane-container {
    display: flex;
    flex-direction: row-reverse;
    width: var(--tox-private-sidebar-width);

    .tox-sidebar__resize-handle {
      cursor: ew-resize;
      width: 5px;
      height: 100%;
      background-color: #e3e3e3;
    }
  }

  .tox-sidebar__pane {
    display: flex;
    width: 100%;
  }

  .tox-sidebar--sliding-closed {
    opacity: 0;
  }

  .tox-sidebar--sliding-open {
    opacity: 1;
  }

  .tox-sidebar--sliding-growing,
  .tox-sidebar--sliding-shrinking {
    transition: width .5s ease, opacity .5s ease;
  }
}
