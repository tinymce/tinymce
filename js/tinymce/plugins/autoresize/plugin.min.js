tinymce.PluginManager.add("autoresize",function(e){function t(i){var a,s,g,r,m=e.getDoc(),u=m.body,l=m.documentElement,h=tinymce.DOM,_=n.autoresize_min_height;!u||i&&"setcontent"===i.type&&i.initial||e.plugins.fullscreen&&e.plugins.fullscreen.isFullscreen()||(g=e.dom.getStyle(u,"margin-top",!0),r=e.dom.getStyle(u,"margin-bottom",!0),s=u.offsetHeight+parseInt(g,10)+parseInt(r,10),(isNaN(s)||0>=s)&&(s=tinymce.Env.ie?u.scrollHeight:tinymce.Env.webkit&&0===u.clientHeight?0:u.offsetHeight),s>n.autoresize_min_height&&(_=s),n.autoresize_max_height&&s>n.autoresize_max_height?(_=n.autoresize_max_height,u.style.overflowY="auto",l.style.overflowY="auto"):(u.style.overflowY="hidden",l.style.overflowY="hidden",u.scrollTop=0),_!==o&&(a=_-o,h.setStyle(h.get(e.id+"_ifr"),"height",_+"px"),o=_,tinymce.isWebKit&&0>a&&t(i)))}function i(e,n,o){setTimeout(function(){t({}),e--?i(e,n,o):o&&o()},n)}var n=e.settings,o=0;e.settings.inline||(n.autoresize_min_height=parseInt(e.getParam("autoresize_min_height",e.getElement().offsetHeight),10),n.autoresize_max_height=parseInt(e.getParam("autoresize_max_height",0),10),e.on("init",function(){var t=e.getParam("autoresize_overflow_padding",1);e.dom.setStyles(e.getBody(),{paddingBottom:e.getParam("autoresize_bottom_margin",50),paddingLeft:t,paddingRight:t})}),e.on("change setcontent paste keyup",t),e.getParam("autoresize_on_init",!0)&&e.on("init",function(){i(20,100,function(){i(5,1e3)})}),e.addCommand("mceAutoResize",t))});