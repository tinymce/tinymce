<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Relative URLs testcase</title>

<!-- tinyMCE -->
<script language="javascript" type="text/javascript" src="../../jscripts/tiny_mce/tiny_mce_dev.js"></script>
<script language="javascript" type="text/javascript">
	tinyMCE.init({
		mode : "textareas",
		theme : "advanced",
		plugins : "devkit,table,save,advhr,advimage,advlink,emotions,iespell,insertdatetime,preview,zoom,flash,searchreplace,print",
		theme_advanced_buttons1_add_before : "save,separator",
		theme_advanced_buttons1_add : "fontselect,fontsizeselect",
		theme_advanced_buttons2_add : "separator,insertdate,inserttime,preview,zoom,separator,forecolor,backcolor",
		theme_advanced_buttons2_add_before: "cut,copy,paste,separator,search,replace,separator",
		theme_advanced_buttons3_add_before : "tablecontrols,separator",
		theme_advanced_buttons3_add : "emotions,iespell,flash,advhr,separator,print",
		theme_advanced_toolbar_location : "top",
		theme_advanced_toolbar_align : "left",
		theme_advanced_path_location : "bottom",
		content_css : "../example_full.css",
	    plugin_insertdate_dateFormat : "%Y-%m-%d",
	    plugin_insertdate_timeFormat : "%H:%M:%S",
		extended_valid_elements : "a[name|href|target|title|onclick],img[class|src|border=0|alt|title|hspace|vspace|width|height|align|onmouseover|onmouseout|name],hr[class|width|size|noshade],font[face|size|color|style],span[class|align|style]",
		file_browser_callback : "fileBrowserCallBack"
	});

	function fileBrowserCallBack(field_name, url, type) {
		// This is where you insert your custom filebrowser logic
		alert("Filebrowser callback: " + field_name + "," + url + "," + type);
	}

	function runTest() {
		var html = tinyMCE.getContent('mce_editor_0').replace(/\s/gi, '');
		var thtmlMSIE = 'Linktests:<br/><ahref="relative_urls.htm#anchor">#anchor</a><br/><ahref="../example_advanced.htm">../example_advanced..htm</a><br/><ahref="http://www.moxiecode.com/">www.moxiecode.com</a><br/><ahref="../example_advanced.htm?query=something#anchor">../example_advanced.htm?query=something#anchor</a><br/><ahref="hide_show_divs.htm">hide_show_divs.htm</a><br/><br/>Imagetests:<br/><imgsrc="../logo.jpg"border="0"/><imgsrc="http://tinymce.sourceforge.net/buttons/powered_by_tinymce.png"border="0"/><imgonmouseover="this.src=\'images/gotmoxie.png\';"onmouseout="this.src=\'images/gotmoxie.png\';"src="images/gotmoxie.png"border="0"/><imgsrc="http://tinymce.sourceforge.net/buttons/powered_by_tinymce.png?query=something"border="0"/><imgonmouseover="this.src=\'http://tinymce.sourceforge.net/buttons/powered_by_tinymce_v2.png\';"onmouseout="this.src=\'http://tinymce.sourceforge.net/buttons/powered_by_tinymce.png?query=something\';"src="http://tinymce.sourceforge.net/buttons/powered_by_tinymce.png?query=something"border="0"/>';
		var thtmlGecko = 'Linktests:<br/><ahref="relative_urls.htm#anchor">#anchor</a><br/><ahref="../example_advanced.htm">../example_advanced..htm</a><br/><ahref="http://www.moxiecode.com">www.moxiecode.com</a><br/><ahref="../example_advanced.htm?query=something#anchor">../example_advanced.htm?query=something#anchor</a><br/><ahref="hide_show_divs.htm">hide_show_divs.htm</a><br/><br/>Imagetests:<br/><imgborder="0"src="../logo.jpg"/><imgborder="0"src="http://tinymce.sourceforge.net/buttons/powered_by_tinymce.png"/><imgborder="0"onmouseout="this.src=\'images/gotmoxie.png\';"onmouseover="this.src=\'images/gotmoxie.png\';"src="images/gotmoxie.png"/><imgborder="0"src="http://tinymce.sourceforge.net/buttons/powered_by_tinymce.png?query=something"/><imgborder="0"onmouseout="this.src=\'http://tinymce.sourceforge.net/buttons/powered_by_tinymce.png?query=something\';"onmouseover="this.src=\'http://tinymce.sourceforge.net/buttons/powered_by_tinymce_v2.png\';"src="http://tinymce.sourceforge.net/buttons/powered_by_tinymce.png?query=something"/>';

		if (tinyMCE.isMSIE) {
			if (html == thtmlMSIE)
				alert("TEST SUCCEDED");
			else {
				tinyMCE.debug("CHTML:" + html);
				tinyMCE.debug("THTML:" + thtmlMSIE);
			}
		}

		if (tinyMCE.isGecko) {
			if (html == thtmlGecko)
				alert("TEST SUCCEDED");
			else {
				tinyMCE.debug("CHTML:" + html);
				tinyMCE.debug("THTML:" + thtmlGecko);
			}
		}
	}
</script>
<!-- /tinyMCE -->

</head>
<body>
<a href="index.htm">&lt;&lt; Back</a><br />

<form method="post" action="http://tinymce.moxiecode.com/dump.php?example=true">

<h3>Relative URLs testcase</h3>
This page is used to test the relative_urls option when it's set to true (forces relative URLs, default).<br />
<br />

<textarea id="elm1" name="elm1" rows="15" cols="80" style="width: 100%">
	Link tests:<br />
	<a href="#anchor">#anchor</a><br />
	<a href="../example_advanced.htm">../example_advanced..htm</a><br />
	<a href="http://www.moxiecode.com">www.moxiecode.com</a><br />
	<a href="../example_advanced.htm?query=something#anchor">../example_advanced.htm?query=something#anchor</a><br />
	<a href="hide_show_divs.htm">hide_show_divs.htm</a><br />
	<br />
	Image tests:<br />
	<img src="../logo.jpg" />
	<img src="http://tinymce.sourceforge.net/buttons/powered_by_tinymce.png" />
<img border="0" src="images/gotmoxie.png" onmouseover="this.src='images/gotmoxie.png';" onmouseout="this.src='images/gotmoxie.png';" />
	<img src="http://tinymce.sourceforge.net/buttons/powered_by_tinymce.png?query=something" />
<img border="0" src="http://tinymce.sourceforge.net/buttons/powered_by_tinymce.png?query=something" onmouseover="this.src='http://tinymce.sourceforge.net/buttons/powered_by_tinymce_v2.png';" onmouseout="this.src='http://tinymce.sourceforge.net/buttons/powered_by_tinymce.png?query=something';" />
</textarea>

<br />

<input type="button" name="test" onclick="runTest();" value="Test" />

<br />

<input type="submit" name="save" value="Submit" />
<input type="reset" name="reset" value="Reset" />

</form>

</body>
</html>